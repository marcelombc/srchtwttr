(function($,factory){if(typeof exports==="object"){module.exports=factory($)}else if(typeof define==="function"&&define.amd){define("jquery",factory)}else{var glob;try{glob=window}catch(e){glob=self}glob.Srchtwttr=factory($)}})(jQuery,function($,undefined){"use strict";var interval,req,url="http://search.twitter.com/search.json",query,callback,options={refreshInterval:null};var Srchtwttr=function(qry,clbk,opt){query=qry;callback=clbk;options=$.extend({},options,opt);search();if(options.refreshInterval)refresh()};Srchtwttr.prototype.destroy=function(){if(interval){clearInterval(interval);interval=null}if(req){req.abort();req=null}};function search(){var self=this,results;req=request().done(function(data){results=data.results;callback.call(self,null,results)}).fail(function(error){callback.call(self,error)})}function refresh(){interval=setInterval(function(){search()},options.refreshInterval)}function request(){return $.ajax({url:url,data:{q:query},dataType:"jsonp"})}return Srchtwttr});